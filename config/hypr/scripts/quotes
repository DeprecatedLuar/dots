#!/usr/bin/env bash

SCRIPT_PATH="$HOME/.config/hypr/scripts/quotes"
CSS_PATH="$HOME/.config/nwg-wrapper/quote.css"

if [[ "$NWG_QUOTE_OUTPUT" == "1" ]]; then
    response=$(curl -s "https://dummyjson.com/quotes/random")
    quote=$(echo "$response" | jq -r '.quote')
    author=$(echo "$response" | jq -r '.author')
    echo "<span font='Sans 12' foreground='#f0f0f099'>\"$quote\"</span>"
    echo "<span font='Sans 9' foreground='#ffffff50'>â€” $author</span>"
else
    export NWG_QUOTE_OUTPUT=1
    exec nwg-wrapper -s "$SCRIPT_PATH" -c "$CSS_PATH" -a end -mb -50
fi
